"use strict";(self.webpackChunk_brizy_docs=self.webpackChunk_brizy_docs||[]).push([[7353],{6297:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var t=r(2540),i=r(3023);const s={sidebar_position:3},o="\u5275\u5efa\u4f60\u7684\u7b2c\u4e00\u500b\u9644\u52a0\u5143\u4ef6",d={id:"brizy-widgets/creating-your-first-addon",title:"\u5275\u5efa\u4f60\u7684\u7b2c\u4e00\u500b\u9644\u52a0\u5143\u4ef6",description:"\u8b93\u6211\u5011\u5275\u5efa\u4e00\u500b\u7c21\u55ae\u7684 Brizy \u7b2c\u4e09\u65b9\u9644\u52a0\u5143\u4ef6\uff0c\u5f15\u5165\u5169\u500b\u65b0\u5c0f\u90e8\u4ef6\u5230 Brizy \u4e2d\u3002\u7b2c\u4e00\u500b\u662f\u57fa\u672c\u7684 Button \u5c0f\u90e8\u4ef6\uff0c\u7b2c\u4e8c\u500b\u662f\u4e00\u500b\u66f4\u8907\u96dc\u7684\u5c0f\u90e8\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u5728\u5de5\u5177\u6b04\u4e2d\u7684\u9078\u9805\u3002",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs-docs-third-party/current/brizy-widgets/creating-your-first-addon.md",sourceDirName:"brizy-widgets",slug:"/brizy-widgets/creating-your-first-addon",permalink:"/zh-Hant/docs-third-party/brizy-widgets/creating-your-first-addon",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u74b0\u5883\u8981\u6c42",permalink:"/zh-Hant/docs-third-party/brizy-widgets/requirements"},next:{title:"\u65b0\u589e\u5c0f\u5de5\u5177",permalink:"/zh-Hant/docs-third-party/managing-widgets/add-new-widget"}},c={},l=[{value:"\u5b89\u88dd",id:"\u5b89\u88dd",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:3},{value:"\u5efa\u69cb\u5668\u4e2d\u7684\u9078\u9805\u985e\u578b",id:"\u5efa\u69cb\u5668\u4e2d\u7684\u9078\u9805\u985e\u578b",level:3},{value:"\u793a\u4f8b\uff1a",id:"\u793a\u4f8b-1",level:4}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"\u5275\u5efa\u4f60\u7684\u7b2c\u4e00\u500b\u9644\u52a0\u5143\u4ef6",children:"\u5275\u5efa\u4f60\u7684\u7b2c\u4e00\u500b\u9644\u52a0\u5143\u4ef6"}),"\n",(0,t.jsxs)(e.p,{children:["\u8b93\u6211\u5011\u5275\u5efa\u4e00\u500b\u7c21\u55ae\u7684 Brizy \u7b2c\u4e09\u65b9\u9644\u52a0\u5143\u4ef6\uff0c\u5f15\u5165\u5169\u500b\u65b0\u5c0f\u90e8\u4ef6\u5230 Brizy \u4e2d\u3002\u7b2c\u4e00\u500b\u662f\u57fa\u672c\u7684 ",(0,t.jsx)(e.strong,{children:"Button"})," \u5c0f\u90e8\u4ef6\uff0c\u7b2c\u4e8c\u500b\u662f\u4e00\u500b\u66f4\u8907\u96dc\u7684\u5c0f\u90e8\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u5728\u5de5\u5177\u6b04\u4e2d\u7684\u9078\u9805\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"\u5b89\u88dd",children:"\u5b89\u88dd"}),"\n",(0,t.jsx)(e.p,{children:"\u4f60\u53ef\u4ee5\u4f7f\u7528 npm \u5b89\u88dd\u9019\u500b\u5eab\u3002\u6253\u958b\u4f60\u7684\u7d42\u7aef\u6a5f\u4e26\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npx @brizy/create-thirdparty\ncd < my-app >\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0a\u8ff0\u547d\u4ee4\u5c07\u751f\u6210\u4ee5\u4e0b\u6587\u4ef6\u593e\u7d50\u69cb\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"# \u7b2c\u4e09\u65b9\u6587\u4ef6\u593e\u7684\u6839\u76ee\u9304\n\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 Map\n    \u2502   \u2514\u2500\u2500 index.tsx\n    \u2514\u2500\u2500 index.ts\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8981\u958b\u59cb\u69cb\u5efa\uff0c\u8acb\u5728\u7d42\u7aef\u6a5f\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"npm run build\n"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u6709\u95dc\u53ef\u7528\u8173\u672c\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u67e5\u770b ",(0,t.jsx)(e.a,{href:"https://github.com/EasyBrizy/Brizy-Local-Editor/blob/master/packages/scripts/Readme.md",children:(0,t.jsx)(e.code,{children:"README"})}),"\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u4f7f\u7528",children:"\u4f7f\u7528"}),"\n",(0,t.jsx)(e.p,{children:"\u69cb\u5efa\u5b8c\u7b2c\u4e09\u65b9\u5eab\u5f8c\uff0c\u4f60\u53ef\u4ee5\u901a\u904e HTTP URL \u5c07\u5176\u767c\u9001\u5230\u7de8\u8f2f\u5668\u914d\u7f6e\u4e2d\u3002\u4ee5\u4e0b\u662f\u5982\u4f55\u64cd\u4f5c\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u5c07\u69cb\u5efa\u7684\u5eab\u6587\u4ef6\u6258\u7ba1\u5728\u53ef\u901a\u904e HTTP \u8a2a\u554f\u7684\u4f3a\u670d\u5668\u4e0a\u3002"}),"\n",(0,t.jsxs)(e.li,{children:["\u7372\u53d6\u69cb\u5efa\u7684 JavaScript \u6587\u4ef6\u7684 HTTP URL\uff08\u4f8b\u5982 ",(0,t.jsx)(e.code,{children:"main.js"}),"\uff09\u3002"]}),"\n",(0,t.jsx)(e.li,{children:"\u5728\u7de8\u8f2f\u5668\u914d\u7f6e\u4e2d\uff0c\u6307\u5b9a\u9019\u4e9b URL \u4ee5\u52a0\u8f09\u5eab\uff1a"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'const config = {\n  // \u914d\u7f6e\u7684\u5176\u4ed6\u9375\u503c...\n\n  thirdPartyUrls: [\n    {\n      scriptUrl: "https://<library-build-host>/main.js",\n    },\n  ],\n};\n'})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:["\u6709\u95dc\u7de8\u8f2f\u5668\u914d\u7f6e\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u67e5\u770b ",(0,t.jsx)(e.a,{href:"https://github.com/EasyBrizy/Brizy-Local-Editor/blob/master/packages/core/docs/self-hosted.MD#config",children:(0,t.jsx)(e.code,{children:"README"})}),"\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u5c07 ",(0,t.jsx)(e.code,{children:'"http://<library-build-host>/main.js"'})," \u66ff\u63db\u70ba\u4f60\u69cb\u5efa\u7684\u5eab\u6587\u4ef6\u7684\u5be6\u969b HTTP URL\u3002\u901a\u904e\u5c07\u6b64 URL \u6dfb\u52a0\u5230\u7de8\u8f2f\u5668\u914d\u7f6e\u4e2d\u7684 ",(0,t.jsx)(e.code,{children:"thirdPartyUrls"})," \u9663\u5217\u4e2d\uff0c\u5eab\u5c07\u88ab\u52a0\u8f09\u4e26\u53ef\u5728\u7de8\u8f2f\u5668\u74b0\u5883\u4e2d\u4f7f\u7528\u3002"]}),"\n",(0,t.jsx)(e.p,{children:"\u8981\u67e5\u770b\u65b0\u7684\u5143\u4ef6\uff0c\u8acb\u6309\u7167\u4ee5\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u8f49\u5230\u7de8\u8f2f\u5668\u7684\u5de6\u5074\u908a\u6b04\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u67e5\u627e\u201c\u6dfb\u52a0\u5143\u4ef6\u201d\u90e8\u5206\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u9ede\u64ca\u201c\u6dfb\u52a0\u5143\u4ef6\u201d\u4ee5\u5c55\u958b\u8a72\u90e8\u5206\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u4f60\u61c9\u8a72\u6703\u770b\u5230\u53ef\u7528\u7684\u5143\u4ef6\u6216\u7d44\u4ef6\u5217\u8868\u3002"}),"\n",(0,t.jsxs)(e.li,{children:["\u5728\u9019\u500b\u5217\u8868\u4e2d\u67e5\u627e\u65b0\u6dfb\u52a0\u7684\u5143\u4ef6\u3002\n",(0,t.jsx)(e.img,{src:"https://github.com/EasyBrizy/Brizy-Local-Editor/assets/18303258/eb021ebd-7a61-44f7-aa3c-ddf6f1d60b18",alt:"image"})]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { Brizy } from "@brizy/core";\nimport React from "react";\n\nexport function Button(): JSX.Element {\n  return <div className="button">\u9019\u500b\u6309\u9215\u6703\u5728\u7de8\u8f2f\u5668\u4e2d\u6e32\u67d3</div>;\n}\n\nexport function Button(): JSX.Element {\n  return <div className="button">\u9019\u500b\u6309\u9215\u6703\u5728\u8996\u5716\u4e2d\u6e32\u67d3</div>;\n}\n\nBrizy.registerComponent({\n  id: "ThirdParty.Button",\n  component: {\n    editor: Button,\n    view: Button,\n  },\n  title: "\u6211\u7684\u6309\u9215",\n});\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5efa\u69cb\u5668\u4e2d\u7684\u9078\u9805\u985e\u578b",children:"\u5efa\u69cb\u5668\u4e2d\u7684\u9078\u9805\u985e\u578b"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u5275\u5efa\u81ea\u5b9a\u7fa9\u5143\u4ef6\u6642\uff0c\u4f60\u53ef\u4ee5\u9078\u64c7\u5305\u542b\u5404\u7a2e\u5de5\u5177\u6b04\u9078\u9805\u4ee5\u9032\u4e00\u6b65\u81ea\u5b9a\u7fa9\u3002"}),"\n",(0,t.jsx)(e.h4,{id:"\u793a\u4f8b-1",children:"\u793a\u4f8b\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { Brizy } from "@brizy/core";\nimport React from "react";\n\ninterface Props {\n  address: string;\n  zoom: number;\n}\n\nconst URL = "https://www.google.com/maps/embed/v1/place";\nconst KEY = "AIzaSyCcywKcxXeMZiMwLDcLgyEnNglcLOyB_qw";\n\nexport function Map(props: Props): JSX.Element {\n  const { address, zoom } = props;\n  const iframeSrc = `${URL}?key=${KEY}&q=${address}&zoom=${zoom}`;\n\n  return (\n    <div className="mapThirdComponent" style={{ pointerEvents: "none" }}>\n      <iframe src={iframeSrc} title="Map" />\n    </div>\n  );\n}\n\nBrizy.registerComponent({\n  id: "ThirdParty.Map",\n  component: {\n    editor: Map,\n    view: Map,\n  },\n  title: "\u6211\u7684\u5730\u5716",\n  options: (props) => {\n    return [\n      {\n        selector: ".mapThirdComponent",\n        toolbar: [\n          {\n            id: "toolbarCurrentElement",\n            type: "popover",\n            config: {\n              icon: "nc-pin",\n              title: "\u5730\u5716",\n            },\n            devices: "desktop",\n            options: [\n              {\n                id: "tabsCurrentElement",\n                type: "tabs",\n                tabs: [\n                  {\n                    id: "tabCurrentElement",\n                    label: "\u5730\u5716",\n                    options: [\n                      {\n                        id: "address",\n                        label: "\u5730\u5740",\n                        type: "inputText",\n                        placeholder: "\u8f38\u5165\u5730\u5740",\n                        default: {\n                          value: "\u57fa\u5e0c\u7d0d\u70cf",\n                        },\n                      },\n                      {\n                        id: "zoom",\n                        label: "\u7e2e\u653e",\n                        type: "slider",\n                        config: {\n                          min: 1,\n                          max: 21,\n                        },\n                        default: {\n                          value: 9,\n                          suffix: "\u82f1\u5bf8",\n                        },\n                      },\n                    ],\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      },\n    ];\n  },\n});\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u4f60\u73fe\u5728\u5df2\u7d93\u9ad4\u9a57\u4e86\u5275\u5efa\u4f60\u7684\u7b2c\u4e00\u500b Brizy \u9644\u52a0\u5143\u4ef6\u7684\u7c21\u55ae\u6027\u3002"})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}},3023:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>d});var t=r(3696);const i={},s=t.createContext(i);function o(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);